(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46],{2765:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var t=a(5155),r=a(8860),i=a(6681),l=a(8497),n=a(285),d=a(6695),c=a(6126),o=a(1154),x=a(2919),h=a(5339),m=a(3227),u=a(4616),p=a(7580),b=a(9946);let v=(0,b.A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),g=(0,b.A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var j=a(7367);function f(){return(0,t.jsx)(j.A,{fallback:(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-6 w-6 animate-spin"}),(0,t.jsx)("span",{children:"読み込み中..."})]})}),children:(0,t.jsx)(w,{})})}function w(){let{isLoggedIn:e,loading:s}=(0,i.A)(),{isAdmin:a,getPermissionErrorMessage:b}=(0,l.S)(),{data:j,isLoading:f,error:w}=(0,r.sL)(),N=Array.isArray(j)?j:[],y=(0,r.dX)(),k=async(e,s)=>{if(confirm("組織「".concat(s,"」を削除しますか？この操作は取り消せません。")))try{await y.mutateAsync(e)}catch(e){console.error("組織削除エラー:",e)}};return s?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-6 w-6 animate-spin"}),(0,t.jsx)("span",{children:"認証情報を確認中..."})]})}):e?a()?f?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(o.A,{className:"h-6 w-6 animate-spin"}),(0,t.jsx)("span",{children:"組織一覧を読み込み中..."})]})}):w?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)(d.Zp,{className:"p-6 max-w-md w-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-red-600 mb-2",children:"エラーが発生しました"}),(0,t.jsx)("p",{className:"text-gray-600",children:"組織一覧の取得に失敗しました。ページを再読み込みしてください。"})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center p-3 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full mb-6",children:(0,t.jsx)(m.A,{className:"h-12 w-12 text-blue-400"})}),(0,t.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:["組織管理",(0,t.jsx)("span",{className:"ml-3 text-2xl",children:"\uD83C\uDFE2"})]}),(0,t.jsx)("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-8",children:"システム内のすべての組織を管理・監視できます"}),(0,t.jsxs)("div",{className:"flex justify-center items-center space-x-8 mb-8",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-400",children:N.length}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"総組織数"})]}),(0,t.jsx)("div",{className:"w-px h-12 bg-gray-600"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-3xl font-bold text-green-400",children:"Active"}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:"システム状態"})]})]}),(0,t.jsxs)(n.$,{onClick:()=>window.location.href="/dashboard/organizations/new",className:"inline-flex items-center space-x-3 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 hover:from-blue-700 hover:via-purple-700 hover:to-pink-700 text-white font-semibold px-8 py-4 rounded-xl shadow-2xl hover:shadow-purple-500/25 transition-all duration-300 transform hover:scale-105",size:"lg",children:[(0,t.jsx)(u.A,{className:"h-6 w-6"}),(0,t.jsx)("span",{children:"新しい組織を作成"})]})]}),0===N.length?(0,t.jsxs)(d.Zp,{className:"p-16 text-center bg-gradient-to-br from-white/10 to-white/5 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center p-6 bg-gradient-to-r from-gray-500/20 to-gray-600/20 rounded-full mb-8",children:(0,t.jsx)(m.A,{className:"h-16 w-16 text-gray-400"})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-white mb-4",children:"組織がまだ登録されていません"}),(0,t.jsx)("p",{className:"text-lg text-gray-300 mb-8 max-w-md mx-auto",children:"最初の組織を作成して、チームでの協業を開始しましょう！"}),(0,t.jsxs)(n.$,{onClick:()=>window.location.href="/dashboard/organizations/new",className:"inline-flex items-center space-x-3 bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white font-semibold px-10 py-4 rounded-xl shadow-2xl hover:shadow-green-500/25 transition-all duration-300 transform hover:scale-105",size:"lg",children:[(0,t.jsx)(u.A,{className:"h-6 w-6"}),(0,t.jsx)("span",{children:"最初の組織を作成"})]})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:N.map((e,s)=>(0,t.jsxs)(d.Zp,{className:"group relative overflow-hidden bg-gradient-to-br from-white/10 via-white/5 to-transparent backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl hover:shadow-purple-500/25 transition-all duration-500 transform hover:scale-105",style:{animationDelay:"".concat(100*s,"ms"),animation:"fadeInUp 0.6s ease-out forwards"},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-purple-500/5 to-pink-500/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,t.jsxs)("div",{className:"relative p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 p-3 rounded-xl shadow-lg",children:(0,t.jsx)(m.A,{className:"h-8 w-8 text-white"})}),(0,t.jsx)("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white animate-pulse"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-white group-hover:text-blue-300 transition-colors duration-300",children:e.name}),(0,t.jsxs)(c.E,{variant:"secondary",className:"flex items-center space-x-1 mt-2 bg-gradient-to-r from-purple-500/20 to-blue-500/20 text-blue-300 border-blue-400/30",children:[(0,t.jsx)(p.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:"Admin"})]})]})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-blue-500/20 hover:border-blue-400/50 transition-all duration-300",children:(0,t.jsx)(v,{className:"h-4 w-4"})}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",onClick:()=>k(e.id,e.name),disabled:y.isPending,className:"bg-white/10 border-white/20 text-red-400 hover:bg-red-500/20 hover:border-red-400/50 transition-all duration-300",children:y.isPending?(0,t.jsx)(o.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(g,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-3 text-sm mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"組織ID"}),(0,t.jsxs)("span",{className:"font-mono text-blue-300",children:["#",e.id]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"作成日"}),(0,t.jsx)("span",{className:"text-gray-300",children:e.created_at?new Date(e.created_at).toLocaleDateString("ja-JP"):"2023-08-15"})]}),e.updated_at&&e.updated_at!==e.created_at&&(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 bg-white/5 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-400",children:"更新日"}),(0,t.jsx)("span",{className:"text-gray-300",children:new Date(e.updated_at).toLocaleDateString("ja-JP")})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(n.$,{onClick:()=>window.location.href="/dashboard/organizations/detail?id=".concat(e.id),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"組織を管理"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"bg-white/5 border-white/20 text-gray-300 hover:bg-green-500/20 hover:border-green-400/50 hover:text-green-300 transition-all duration-300",children:"詳細"}),(0,t.jsx)(n.$,{size:"sm",variant:"outline",className:"bg-white/5 border-white/20 text-gray-300 hover:bg-purple-500/20 hover:border-purple-400/50 hover:text-purple-300 transition-all duration-300",children:"設定"})]})]})]})]},e.id))})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsx)(d.Zp,{className:"p-8 max-w-md w-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(h.A,{className:"h-12 w-12 text-amber-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"アクセス権限がありません"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:b("admin")}),(0,t.jsx)(n.$,{onClick:()=>window.location.href="/dashboard",variant:"outline",className:"w-full",children:"ダッシュボードに戻る"})]})})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,t.jsx)(d.Zp,{className:"p-8 max-w-md w-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(x.A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"ログインが必要です"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:b()}),(0,t.jsx)(n.$,{onClick:()=>window.location.href="/login",className:"w-full",children:"ログインページへ"})]})})})}},4616:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5685:(e,s,a)=>{Promise.resolve().then(a.bind(a,2765))},6126:(e,s,a)=>{"use strict";a.d(s,{E:()=>d});var t=a(5155);a(2115);var r=a(4624),i=a(2085),l=a(9434);let n=(0,i.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:a,asChild:i=!1,...d}=e,c=i?r.DX:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,l.cn)(n({variant:a}),s),...d})}},7367:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(5155),r=a(2115);function i(e){let{children:s,fallback:a=null}=e,[i,l]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{l(!0)},[]),i)?(0,t.jsx)(t.Fragment,{children:s}):(0,t.jsx)(t.Fragment,{children:a})}},7580:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])}},e=>{e.O(0,[212,967,426,325,441,964,358],()=>e(e.s=5685)),_N_E=e.O()}]);