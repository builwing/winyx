info(
	title: "Test API"
	desc: "Test API documentation"
	author: "Winyx Team"
	email: "team@winyx.com"
	version: "1.0.0"
)

// User Authentication APIs
type RegisterReq {
	Name     string `json:"name"`
	Email    string `json:"email"`
	Password string `json:"password"`
}

type RegisterRes {
	Id    int64  `json:"id"`
	Name  string `json:"name"`
	Email string `json:"email"`
}

type LoginReq {
	Email    string `json:"email"`
	Password string `json:"password"`
}

type LoginRes {
	AccessToken string `json:"access_token"`
	ExpireTime  int64  `json:"expire_time"`
}

type UserInfoRes {
	Id    int64  `json:"id"`
	Name  string `json:"name"`
	Email string `json:"email"`
}

service test_api-api {
	// Public endpoints (no auth required)
	@handler register
	post /api/register (RegisterReq) returns (RegisterRes)

	@handler login
	post /api/login (LoginReq) returns (LoginRes)
}

@server(
	jwt: Auth
	group: protected
	prefix: /api
)
service test_api-api {
	// Protected endpoints (auth required)
	@handler userInfo
	get /user/info returns (UserInfoRes)

	@handler updateProfile
	post /user/profile (RegisterReq) returns (RegisterRes)
}